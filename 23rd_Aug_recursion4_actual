// recursion

function repeat_pattern(n,pat,init){
    return n===0
    ? init
    : pat(repeat_pattern(n-1,pat,init));
}

function square(x){
    return x*x;
}

repeat_pattern(3,square,2);